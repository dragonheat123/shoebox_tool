import pandas as pd
from flask import Flask, jsonify, request, render_template
import json
import os
import numpy as np

floor_plan = 'json'

floor = '{"int": [[[10.842842287365681, -0.016801904056011896, 0.0], [10.842842287365681, 4.7831980959439964, 0.0]], [[10.842842287365681, 4.7831980959439964, 0.0], [9.9428422873656466, 4.7831980959439964, 0.0]], [[9.9428422873656466, 4.7831980959439964, 0.0], [9.0428422873656409, 4.7831980959439964, 0.0]], [[9.0428422873656409, 4.7831980959439964, 0.0], [9.0428422873656409, -0.016801904056011896, 0.0]], [[25.2428422873658, 4.7831980959439893, 0.0], [25.2428422873658, -0.016801904056011896, 0.0]], [[27.042842287365897, 4.7831980959439893, 0.0], [25.2428422873658, 4.7831980959439893, 0.0]], [[25.2428422873658, 4.7831980959439893, 0.0], [24.342842287365677, 4.7831980959439893, 0.0]], [[24.342842287365677, 4.7831980959439893, 0.0], [23.442842287365707, 4.7831980959439893, 0.0]], [[23.442842287365703, 4.7831980959439893, 0.0], [23.442842287365703, -0.016801904056022554, 0.0]], [[24.342842287365681, 8.9831980959440063, 0.0], [24.342842287365681, 4.7831980959440106, 0.0]], [[20.7428422873658, 4.7831980959440106, 0.0], [23.442842287365707, 4.7831980959440106, 0.0]], [[18.942842287365703, 4.7831980959439893, 0.0], [18.942842287365703, -0.016801904056004791, 0.0]], [[14.442842287365703, 4.7831980959440106, 0.0], [14.442842287365703, -0.016801904056004791, 0.0]], [[17.142842287365632, 4.7831980959440106, 0.0], [14.442842287365703, 4.7831980959440106, 0.0]], [[12.642842287365635, 4.7831980959440106, 0.0], [12.642842287365635, -0.016801904056008343, 0.0]], [[14.442842287365703, 4.7831980959440106, 0.0], [13.542842287365641, 4.7831980959440106, 0.0]], [[13.542842287365641, 4.7831980959440106, 0.0], [12.642842287365635, 4.7831980959440106, 0.0]], [[12.642842287365635, 4.7831980959439964, 0.0], [10.842842287365681, 4.7831980959439964, 0.0]], [[13.542842287365641, 8.9831980959440063, 0.0], [13.542842287365641, 4.7831980959440106, 0.0]], [[9.9428422873656466, 8.9831980959440063, 0.0], [9.9428422873656466, 4.7831980959440106, 0.0]], [[6.342842287365567, 4.7831980959440106, 0.0], [9.0428422873656391, 4.7831980959440106, 0.0]], [[4.5428422873656409, 4.7831980959440035, 0.0], [4.5428422873656409, -0.016801904056011896, 0.0]], [[0.042842287365640885, 4.7831980959440035, 0.0], [2.7428422873657143, 4.7831980959440035, 0.0]], [[0.042842287365640885, -0.016801904056011896, 0.0], [0.042842287365640885, 4.7831980959440035, 0.0]], [[-0.8571577126343648, 4.7831980959440106, 0.0], [-0.8571577126343648, 8.9831980959440063, 0.0]], [[0.042842287365641329, 4.7831980959440106, 0.0], [-0.8571577126343648, 4.7831980959440106, 0.0]], [[-4.4571577126343591, 4.7831980959440106, 0.0], [-4.4571577126343591, 8.9831980959440063, 0.0]], [[-1.7571577126343989, 4.7831980959440106, 0.0], [-3.5571577126343539, 4.7831980959440106, 0.0]], [[-3.5571577126343539, 4.7831980959440106, 0.0], [-4.4571577126343591, 4.7831980959440106, 0.0]], [[-0.8571577126343648, 4.7831980959440106, 0.0], [-1.7571577126343989, 4.7831980959440106, 0.0]], [[-4.4571577126343591, 4.7831980959440106, 0.0], [-5.3571577126344216, 4.7831980959440106, 0.0]], [[-5.3571577126344216, 4.7831980959440106, 0.0], [-8.0571577126343534, 4.7831980959440106, 0.0]], [[-3.5571577126343534, -0.016801904056008343, 0.0], [-3.5571577126343534, 4.7831980959439964, 0.0]], [[-1.7571577126343989, 4.7831980959439964, 0.0], [-1.7571577126343989, -0.016801904056008343, 0.0]], [[-5.3571577126344216, -0.016801904056008343, 0.0], [-5.3571577126344216, 4.7831980959440106, 0.0]], [[-9.8571577126344234, -0.016801904056004791, 0.0], [-9.8571577126344234, 4.7831980959440106, 0.0]], [[-14.357157712634423, 4.7831980959439893, 0.0], [-11.657157712634518, 4.7831980959439893, 0.0]], [[-14.357157712634423, -0.016801904056004791, 0.0], [-14.357157712634423, 4.7831980959439893, 0.0]], [[-15.257157712634401, 4.7831980959440106, 0.0], [-15.257157712634401, 8.9831980959440063, 0.0]], [[-14.357157712634425, 4.7831980959440106, 0.0], [-15.257157712634399, 4.7831980959440106, 0.0]], [[-15.257157712634401, 4.7831980959440106, 0.0], [-16.157157712634522, 4.7831980959440106, 0.0]], [[-16.157157712634522, 4.7831980959440106, 0.0], [-17.957157712634618, 4.7831980959440106, 0.0]], [[-16.157157712634522, -0.016801904056022554, 0.0], [-16.157157712634522, 4.7831980959439893, 0.0]]], "fp": [[[9.0428422873656409, -0.016801904056011896, 0.0], [10.842842287365681, -0.016801904056011896, 0.0], [10.842842287365681, 4.7831980959439964, 0.0], [9.0428422873656409, 4.7831980959439964, 0.0], [9.0428422873656409, -0.016801904056011896, 0.0]], [[25.2428422873658, -0.016801904056011896, 0.0], [27.042842287365897, -0.016801904056011896, 0.0], [27.042842287365897, 4.7831980959439893, 0.0], [25.2428422873658, 4.7831980959439893, 0.0], [25.2428422873658, -0.016801904056011896, 0.0]], [[23.442842287365703, -0.016801904056022554, 0.0], [25.2428422873658, -0.016801904056022554, 0.0], [25.2428422873658, 4.7831980959439893, 0.0], [23.442842287365703, 4.7831980959439893, 0.0], [23.442842287365703, -0.016801904056022554, 0.0]], [[24.342842287365681, 4.7831980959440106, 0.0], [27.942842287365647, 4.7831980959440106, 0.0], [27.942842287365647, 8.9831980959440063, 0.0], [24.342842287365681, 8.9831980959440063, 0.0], [24.342842287365681, 4.7831980959440106, 0.0]], [[20.7428422873658, 4.7831980959440106, 0.0], [24.342842287365681, 4.7831980959440106, 0.0], [24.342842287365681, 8.9831980959440063, 0.0], [20.7428422873658, 8.9831980959440063, 0.0], [20.7428422873658, 4.7831980959440106, 0.0]], [[18.942842287365703, -0.016801904056004791, 0.0], [23.442842287365703, -0.016801904056004791, 0.0], [23.442842287365703, 4.7831980959439893, 0.0], [18.942842287365703, 4.7831980959439893, 0.0], [18.942842287365703, -0.016801904056004791, 0.0]], [[14.442842287365703, -0.016801904056004791, 0.0], [18.942842287365703, -0.016801904056004791, 0.0], [18.942842287365703, 4.7831980959440106, 0.0], [14.442842287365703, 4.7831980959440106, 0.0], [14.442842287365703, -0.016801904056004791, 0.0]], [[12.642842287365635, -0.016801904056008343, 0.0], [14.442842287365703, -0.016801904056008343, 0.0], [14.442842287365703, 4.7831980959440106, 0.0], [12.642842287365635, 4.7831980959440106, 0.0], [12.642842287365635, -0.016801904056008343, 0.0]], [[10.842842287365681, -0.016801904056008343, 0.0], [12.642842287365635, -0.016801904056008343, 0.0], [12.642842287365635, 4.7831980959439964, 0.0], [10.842842287365681, 4.7831980959439964, 0.0], [10.842842287365681, -0.016801904056008343, 0.0]], [[13.542842287365641, 4.7831980959440106, 0.0], [17.142842287365635, 4.7831980959440106, 0.0], [17.142842287365635, 8.9831980959440063, 0.0], [13.542842287365641, 8.9831980959440063, 0.0], [13.542842287365641, 4.7831980959440106, 0.0]], [[9.9428422873656466, 4.7831980959440106, 0.0], [13.542842287365641, 4.7831980959440106, 0.0], [13.542842287365641, 8.9831980959440063, 0.0], [9.9428422873656466, 8.9831980959440063, 0.0], [9.9428422873656466, 4.7831980959440106, 0.0]], [[6.342842287365567, 4.7831980959440106, 0.0], [9.9428422873656466, 4.7831980959440106, 0.0], [9.9428422873656466, 8.9831980959440063, 0.0], [6.342842287365567, 8.9831980959440063, 0.0], [6.342842287365567, 4.7831980959440106, 0.0]], [[4.5428422873656409, -0.016801904056011896, 0.0], [9.0428422873656409, -0.016801904056011896, 0.0], [9.0428422873656409, 4.7831980959440035, 0.0], [4.5428422873656409, 4.7831980959440035, 0.0], [4.5428422873656409, -0.016801904056011896, 0.0]], [[4.5428422873656409, -0.016801904056011896, 0.0], [0.042842287365640885, -0.016801904056011896, 0.0], [0.042842287365640885, 4.7831980959440035, 0.0], [4.5428422873656409, 4.7831980959440035, 0.0], [4.5428422873656409, -0.016801904056011896, 0.0]], [[2.7428422873657148, 4.7831980959440106, 0.0], [-0.8571577126343648, 4.7831980959440106, 0.0], [-0.8571577126343648, 8.9831980959440063, 0.0], [2.7428422873657148, 8.9831980959440063, 0.0], [2.7428422873657148, 4.7831980959440106, 0.0]], [[-0.8571577126343648, 4.7831980959440106, 0.0], [-4.4571577126343591, 4.7831980959440106, 0.0], [-4.4571577126343591, 8.9831980959440063, 0.0], [-0.8571577126343648, 8.9831980959440063, 0.0], [-0.8571577126343648, 4.7831980959440106, 0.0]], [[-4.4571577126343591, 4.7831980959440106, 0.0], [-8.0571577126343534, 4.7831980959440106, 0.0], [-8.0571577126343534, 8.9831980959440063, 0.0], [-4.4571577126343591, 8.9831980959440063, 0.0], [-4.4571577126343591, 4.7831980959440106, 0.0]], [[-1.7571577126343989, -0.016801904056008343, 0.0], [-3.5571577126343534, -0.016801904056008343, 0.0], [-3.5571577126343534, 4.7831980959439964, 0.0], [-1.7571577126343989, 4.7831980959439964, 0.0], [-1.7571577126343989, -0.016801904056008343, 0.0]], [[-3.5571577126343534, -0.016801904056008343, 0.0], [-5.3571577126344216, -0.016801904056008343, 0.0], [-5.3571577126344216, 4.7831980959440106, 0.0], [-3.5571577126343534, 4.7831980959440106, 0.0], [-3.5571577126343534, -0.016801904056008343, 0.0]], [[-5.3571577126344216, -0.016801904056004791, 0.0], [-9.8571577126344234, -0.016801904056004791, 0.0], [-9.8571577126344234, 4.7831980959440106, 0.0], [-5.3571577126344216, 4.7831980959440106, 0.0], [-5.3571577126344216, -0.016801904056004791, 0.0]], [[-9.8571577126344234, -0.016801904056004791, 0.0], [-14.357157712634423, -0.016801904056004791, 0.0], [-14.357157712634423, 4.7831980959439893, 0.0], [-9.8571577126344234, 4.7831980959439893, 0.0], [-9.8571577126344234, -0.016801904056004791, 0.0]], [[-11.65715771263452, 4.7831980959440106, 0.0], [-15.257157712634401, 4.7831980959440106, 0.0], [-15.257157712634401, 8.9831980959440063, 0.0], [-11.65715771263452, 8.9831980959440063, 0.0], [-11.65715771263452, 4.7831980959440106, 0.0]], [[-15.257157712634401, 4.7831980959440106, 0.0], [-18.857157712634368, 4.7831980959440106, 0.0], [-18.857157712634368, 8.9831980959440063, 0.0], [-15.257157712634401, 8.9831980959440063, 0.0], [-15.257157712634401, 4.7831980959440106, 0.0]], [[-14.357157712634423, -0.016801904056022554, 0.0], [-16.157157712634522, -0.016801904056022554, 0.0], [-16.157157712634522, 4.7831980959439893, 0.0], [-14.357157712634423, 4.7831980959439893, 0.0], [-14.357157712634423, -0.016801904056022554, 0.0]], [[-16.157157712634522, -0.016801904056011896, 0.0], [-17.957157712634618, -0.016801904056011896, 0.0], [-17.957157712634618, 4.7831980959439893, 0.0], [-16.157157712634522, 4.7831980959439893, 0.0], [-16.157157712634522, -0.016801904056011896, 0.0]], [[0.042842287365640885, -0.016801904056011896, 0.0], [-1.7571577126343989, -0.016801904056011896, 0.0], [-1.7571577126343989, 4.7831980959439964, 0.0], [0.042842287365640885, 4.7831980959439964, 0.0], [0.042842287365640885, -0.016801904056011896, 0.0]]], "centroid": [[9.9428422873656608, 2.3831980959439925, 0.0], [26.142842287365848, 2.3831980959439885, 0.0], [24.342842287365752, 2.3831980959439831, 0.0], [26.142842287365657, 6.8831980959440076, 0.0], [22.542842287365737, 6.8831980959440084, 0.0], [21.192842287365703, 2.3831980959439925, 0.0], [16.692842287365703, 2.3831980959440027, 0.0], [13.542842287365669, 2.3831980959440013, 0.0], [11.742842287365658, 2.3831980959439942, 0.0], [15.342842287365638, 6.8831980959440084, 0.0], [11.742842287365644, 6.8831980959440084, 0.0], [8.1428422873656068, 6.8831980959440084, 0.0], [6.7928422873656418, 2.3831980959439956, 0.0], [2.2928422873656409, 2.3831980959439956, 0.0], [0.9428422873656751, 6.8831980959440084, 0.0], [-2.657157712634362, 6.8831980959440084, 0.0], [-6.2571577126343563, 6.8831980959440084, 0.0], [-2.6571577126343757, 2.3831980959439942, 0.0], [-4.4571577126343875, 2.3831980959440013, 0.0], [-7.6071577126344216, 2.3831980959440022, 0.0], [-12.107157712634422, 2.383198095943992, 0.0], [-13.457157712634459, 6.8831980959440084, 0.0], [-17.057157712634385, 6.8831980959440076, 0.0], [-15.257157712634474, 2.3831980959439836, 0.0], [-17.05715771263457, 2.3831980959439889, 0.0], [-0.85715771263437901, 2.3831980959439925, 0.0]]}'
# app
app = Flask(__name__)

# routes
@app.route("/")
def greet():
    return render_template('index.html',name=floor)

@app.route('/req/', methods=['POST'])

def getfp():
	data = request.get_json(force=True)
	global floor_plan
	floor_plan = json.dumps(data)
	print(data)
	return render_template('index.html',name=floor)


if __name__ == '__main__':
#    app.run(port = 5000, debug=True)
    app.run()
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    